<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8">
    <title>数组第一个元素容错处理</title>
    <link href="../css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="../css/railscasts.css" rel="stylesheet" type="text/css"/>
    <link href="../css/style.css" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="../ico/favicon.ico">
    <script type="text/javascript">
      var basePath = '../';
      (function(){MX=window.MX||{};var g=function(a,c){for(var b in c)a.setAttribute(b,c[b])};MX.load=function(a){var c=a.js,b=c?".js":".css",d=-1==location.search.indexOf("jsDebug"),e=a.js||a.css;-1==e.indexOf("http://")?(e=(a.path||window.basePath)+((c?"js/":"css/")+e)+(!d&&!c?".source":""),b=e+(a.version?"_"+a.version:"")+b):b=e;d||(d=b.split("#"),b=d[0],b=b+(-1!=b.indexOf("?")?"&":"?")+"r="+Math.random(),d[1]&&(b=b+"#"+d[1]));if(c){var c=b,h=a.success,f=document.createElement("script");f.onload=function(){h&&h();f=null};g(f,{type:"text/javascript",src:c,async:"true"});document.getElementsByTagName("head")[0].appendChild(f)}else{var c=b,i=a.success,a=document.createElement("link");g(a,{rel:"stylesheet"});document.getElementsByTagName("head")[0].appendChild(a);g(a,{href:c});i&&(a.onload=function(){i()})}}})();
    </script>
  </head>
  <body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container"><em class="logo"></em><a href="http://jansesun.github.io/" class="navbar-brand">Valley of Ghosts</a></div>
      </div>
    </nav>
    <main class="container">
      <header class="title">思考题 数组第一个元素容错处理</header>
      <div class="post-date">16 May 2016</div>
      <section>
        <p><a href="https://github.com/jansesun" target="_blank">jansesun</a>原创，转载请注明<a href="http://jansesun.github.io/thinkInJs/getFirstElement.html">出处</a></p>
        <p>之前在UESTC前端群里跟一些朋友分享了一些javascript的思考题，旨在促进群内技术讨论，共同进步。期间不乏思维的火花，一直想将这些宝贵的财富沉淀下来，以便日后翻阅。</p>
        <pre><code>var arr = arr.length ? [arr[0]] : [];</code></pre>
        <p>上面这种代码大家肯定很熟悉，可能写过或者看到过，这种写法也不能说不优雅，但是是否有更好的或者别的思路呢？在之前的<a href="http://jansesun.github.io/thinkInJs/cloneArray.html" target="_blank">思考题 一维数组深复制</a>中大家肯定见过了数组丰富而强大的api了，想想是否有别的方式呢？</p>
        <p>这个问题是我在review别人代码的时候想到的，觉得有些启发，所以整理出来。</p>
        <p>方案一 利用数组的splice操作</p>
        <pre><code>var getFirstElement = function(arr) {
	return arr.splice(0, 1);
};</code></pre>
        <p>splice会破坏原数组，但也不失为一种解决方案，如果想函数式编程，那么请远离splice，拥抱下面的方案</p>
        <p>方案二 利用数组的slice操作</p>
        <pre><code>var getFirstElement = function(arr) {
	return arr.slice(0, 1);
};</code></pre>
        <p>以上方案只解决已知arr类型为数组。</p>
        <p>只要平时多思考，灵活的利用api，你会爱上javascript，也许会爱上写javascript的你。</p>
        <script type="text/javascript">
          MX.load({
          	js: 'lib/require',
          	version: '160106',
          	success: function() {
          		requirejs(['jquery', 'hljs'], function($, hljs) {
          			// 语法高亮
          			hljs.configure({
          				tabReplace: '    '
          			});
          			$('pre code').each(function() {
          				hljs.highlightBlock(this);
          			});
          		});
          	}
          });
        </script>
      </section>
    </main>
  </body>
</html>